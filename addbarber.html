<!-- addbarber.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Add Barbers</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' href='main.css'>
    <script src='main.js'></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* نفس التنسيقات كما هي */
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .continer { margin-top: 3px; padding: 10px; width: 360px; box-shadow: 1px 1px 20px rgba(0, 0, 0, 0.726); border-radius: 7px; }
        .top h2 { margin-block: 10px 20px; }
        .top img { height: 135px; margin-bottom: 7px; border-radius: 8px; box-shadow: 1px 1px 10px rgba(0, 0, 0, 0.548); }
        .body { margin-bottom: 10px; }
        .body input, select { width: 85%; display: block; margin-block: 10px; padding: 6px 10px; border-radius: 6px; border: .5px solid rgb(136, 136, 136); }
        .body label { padding-block: 6px; width: 85%; border-radius: 6px; }
        .continer button { margin-block: 16px 14px; }
        .city input { width: 42%; }
        .city { display: flex; justify-content: center; gap: 5px; margin-top: -10px; }
        #custom-alert { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); padding: 15px 25px; border-radius: 10px; font-size: 18px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; box-shadow: 0 4px 12px rgba(0,0,0,0.2); color: white; z-index: 9999; opacity: 0; transition: opacity 0.5s ease, top 0.5s ease; }
        #custom-alert.error { background-color: #dc3545; }
        #custom-alert.show { opacity: 1; top: 40px; }
        .hidden { display: none; }
        @media(width < 370px){ .continer { width: 99%; } }
    </style>
</head>
<body>

<section>
<center>
<div class="continer">
<div class="top">
    <h2>Add barbers online✂️</h2>
    <img src="imegas/addb.jpg" width="85%" alt="">
</div>
<div class="body">
    <form >
        <div id="step1">
            <input type="text" name="name" placeholder="Enter first and last name"> 
            <input type="number" name="phone" placeholder="Enter phone">
            <input type="number" name="price" placeholder="Enter Beard & hair shaving price">
            <input type="file" name="img" id="file" style="display: none;">
            <select name="type">
                <option value="">Choose the type of haircut</option>
                <option value="only in the shop">Shaves in the shop only</option>
                <option value="delivery">Goes to the houses</option>
                <option value="shop & delivery">Both together</option>
            </select>
            <label for="file" class="btn btn-success">Choose a picture of the barber</label><br>
            <button type="button" class="btn btn-primary" style="padding-inline: 18px;" onclick="goToStep2()">Next</button><br>
        </div>

        <div style="display: none;" id="step2">
            <input type="email" placeholder="Enter your email" name="email">
            <input type="password" placeholder="Enter a password" name="password">
            <select name="location">
                <option>Choose the governorate</option>
                <option>Amman</option>
                <option>Zarqa</option>
                <option>Ajloun</option>
                <option>Mafraq</option>
                <option>Irbid</option>
                <option>Salt</option>
                <option>Madaba</option>
                <option>Ma'an</option>
                <option>Tafilah</option>
                <option>Karak</option>
                <option>Aqaba</option>
                <option>Jerash</option>
            </select>
            <div class="city">
                <input type="text" placeholder="Dist name" name="city">
                <input type="text" placeholder="Street name" name="street">
            </div>
            <button type="button" class="btn btn-secondary" onclick="goBack()">Back</button>
            <button id="add" type="submit" class="btn btn-primary" name="insert">Add the barber</button>
        </div>

        <a href="display3.php" style="text-decoration: none; color: red; font-size: 17px">View all barbers</a>
    </form>
</div>
</div>
</center>

<div id="custom-alert" class="hidden">
    <p id="alert-text"></p>
</div>

</section>

<script>

    const add = document.getElementById('add');

add.addEventListener('click',()=>{
    alert('Not currently available');
})

    function showAlert(message, type) {
        const alertBox = document.getElementById("custom-alert");
        const alertText = document.getElementById("alert-text");
        alertText.textContent = message;
        alertBox.className = "";
        alertBox.classList.add("show", type);
        alertBox.classList.remove("hidden");
        setTimeout(() => {
            alertBox.classList.remove("show");
            setTimeout(() => alertBox.classList.add("hidden"), 500);
        }, 3000);
    }

    function goToStep2() {
        const name = document.querySelector('[name="name"]').value.trim();
        const phone = document.querySelector('[name="phone"]').value.trim();
        const price = document.querySelector('[name="price"]').value.trim();
        const img = document.querySelector('[name="img"]').files.length;
        const haircutType = document.querySelector('[name="type"]').value;
        if (!name || !phone || !price || !img || haircutType === "") {
            showAlert("Please fill in all fields in this step.", "error");
            return;
        }
        document.getElementById("step1").style.display = "none";
        document.getElementById("step2").style.display = "block";
    }

    function goBack() {
        document.getElementById("step2").style.display = "none";
        document.getElementById("step1").style.display = "block";
    }

    document.querySelector("form").addEventListener("submit", function(e) {
        const location = document.querySelector('[name="location"]').value;
        const email = document.querySelector('[name="email"]').value.trim();
        const city = document.querySelector('[name="city"]').value.trim();
        const street = document.querySelector('[name="street"]').value.trim();
        const password = document.querySelector('[name="password"]').value.trim();
        if (!email || location === "Choose the governorate" || !city || !street || !password) {
            e.preventDefault();
            showAlert("Please fill in all fields before adding.", "error");
        } else {
            alert("The barber added successfully");
        }
    });
</script>

</body>
</html>